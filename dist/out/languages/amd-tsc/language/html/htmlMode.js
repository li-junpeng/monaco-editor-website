var __extends=this&&this.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},e(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t);var o=Object.getOwnPropertyDescriptor(r,t);o&&!("get"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,o)}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),__exportStar=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||__createBinding(r,e,t)};define(["require","exports","./workerManager","../common/lspLanguageFeatures","../../fillers/monaco-editor-core","./workerManager","../common/lspLanguageFeatures"],(function(e,r,t,n,o,i,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WorkerManager=r.setupMode=r.setupMode1=void 0;var g=function(e){function r(r){return e.call(this,r,[".",":","<",'"',"=","/"])||this}return __extends(r,e),r}(n.CompletionAdapter);function u(e){return{dispose:function(){return s(e)}}}function s(e){for(;e.length;)e.pop().dispose()}r.setupMode1=function(e){var r=new t.WorkerManager(e),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getLanguageServiceWorker.apply(r,e)},a=e.languageId;o.languages.registerCompletionItemProvider(a,new g(i)),o.languages.registerHoverProvider(a,new n.HoverAdapter(i)),o.languages.registerDocumentHighlightProvider(a,new n.DocumentHighlightAdapter(i)),o.languages.registerLinkProvider(a,new n.DocumentLinkAdapter(i)),o.languages.registerFoldingRangeProvider(a,new n.FoldingRangeAdapter(i)),o.languages.registerDocumentSymbolProvider(a,new n.DocumentSymbolAdapter(i)),o.languages.registerSelectionRangeProvider(a,new n.SelectionRangeAdapter(i)),o.languages.registerRenameProvider(a,new n.RenameAdapter(i)),"html"===a&&(o.languages.registerDocumentFormattingEditProvider(a,new n.DocumentFormattingEditProvider(i)),o.languages.registerDocumentRangeFormattingEditProvider(a,new n.DocumentRangeFormattingEditProvider(i)))},r.setupMode=function(e){var r=[],i=[],a=new t.WorkerManager(e);r.push(a);var d,c,l=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return a.getLanguageServiceWorker.apply(a,e)};return d=e.languageId,c=e.modeConfiguration,s(i),c.completionItems&&i.push(o.languages.registerCompletionItemProvider(d,new g(l))),c.hovers&&i.push(o.languages.registerHoverProvider(d,new n.HoverAdapter(l))),c.documentHighlights&&i.push(o.languages.registerDocumentHighlightProvider(d,new n.DocumentHighlightAdapter(l))),c.links&&i.push(o.languages.registerLinkProvider(d,new n.DocumentLinkAdapter(l))),c.documentSymbols&&i.push(o.languages.registerDocumentSymbolProvider(d,new n.DocumentSymbolAdapter(l))),c.rename&&i.push(o.languages.registerRenameProvider(d,new n.RenameAdapter(l))),c.foldingRanges&&i.push(o.languages.registerFoldingRangeProvider(d,new n.FoldingRangeAdapter(l))),c.selectionRanges&&i.push(o.languages.registerSelectionRangeProvider(d,new n.SelectionRangeAdapter(l))),c.documentFormattingEdits&&i.push(o.languages.registerDocumentFormattingEditProvider(d,new n.DocumentFormattingEditProvider(l))),c.documentRangeFormattingEdits&&i.push(o.languages.registerDocumentRangeFormattingEditProvider(d,new n.DocumentRangeFormattingEditProvider(l))),r.push(u(i)),u(r)},Object.defineProperty(r,"WorkerManager",{enumerable:!0,get:function(){return i.WorkerManager}}),__exportStar(a,r)}));